<div class="px-4 sm:px-0">
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-900">New Ingredient</h1>
    <p class="text-gray-600 mt-2">Add a new ingredient to your inventory</p>
  </div>
  <div class="<%= card_classes %>">
    <%= form_with model: @ingredient, local: true, class: "space-y-6" do |form| %>
      <% if @ingredient.errors.any? %>
        <div class="bg-red-50 border border-red-200 rounded-md p-4">
          <div class="text-red-800 text-sm">
            <h4 class="font-medium mb-2">Please fix the following errors:</h4>
            <ul class="list-disc list-inside space-y-1">
              <% @ingredient.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        </div>
      <% end %>
      <div>
        <%= form.label :name, class: label_classes %>
        <%= form.text_field :name, class: input_classes, placeholder: "e.g., Organic Flour" %>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <%= form.label :price, "Price per unit", class: label_classes %>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <span class="text-gray-500 sm:text-sm">$</span>
            </div>
            <%= form.number_field :price, step: 0.01, class: "#{input_classes} pl-8", placeholder: "0.00" %>
          </div>
        </div>
        <div>
          <%= form.label :unit, class: label_classes %>
          <%= form.select :unit, 
                options_for_select([
                  ['Cup', 'cup'],
                  ['Tablespoon', 'tbsp'],
                  ['Teaspoon', 'tsp'],
                  ['Pound', 'lb'],
                  ['Ounce', 'oz'],
                  ['Gram', 'g'],
                  ['Kilogram', 'kg'],
                  ['Piece', 'piece'],
                  ['Package', 'package']
                ], @ingredient.unit),
                { prompt: 'Select unit' },
                { class: input_classes } %>
        </div>
      </div>
      <div>
        <%= form.label :description, class: label_classes %>
        <%= form.text_area :description, rows: 3, class: input_classes, 
            placeholder: "Optional description of the ingredient..." %>
      </div>
      <div class="flex items-center justify-between pt-4 border-t border-gray-200">
        <%= link_to "Cancel", ingredients_path, class: button_classes(:outline) %>
        <%= form.submit "Create Ingredient", class: button_classes %>
      </div>
    <% end %>
  </div>
</div>
